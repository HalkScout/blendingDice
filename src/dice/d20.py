import bpy

from dice.die import Die

class D20(Die):
    def __init__(self):
        Die.__init__(self, 'd20', scale=(50, 50, 5), offset=10)
        offset = self.offset
        self.numbers = [
            ('1_', (0, 0, offset), (0, 0, 0)),
            ('2_', (0, -offset/1.125, offset/3), (108, 180, 0)),
            ('3_', (-offset/1.5, -offset/2, -offset/3), (60, 125, -90)),
            ('4_', (-offset/1.5, offset/2, offset/3), (60, -55, -90)),
            ('5_', (offset/1.5, -offset/2, -offset/3), (240, -55, -90)),
            ('6_', (offset/1.5, offset/2, offset/3), (60, 55, 90)),
            ('7_', (0, offset/1.125, -offset/3), (108, 0, 180)),
            ('8_', (0, 0, -offset), (180, 0, 0))
            ('9_', (0, 0, -offset), (180, 0, 0))
            ('10_', (0, 0, -offset), (180, 0, 0))
        ]

    def create_mesh(self, collection):
        verts = ((11.079300880432129, 6.396636962890625, 2.4432802200317383),
            (-11.079300880432129, 6.396636962890625, 2.4432802200317383),
            (11.079300880432129, -6.396636962890625, -2.4432802200317383),
            (-11.079300880432129, -6.396636962890625, -2.4432802200317383),
            (6.847384452819824, -3.95330810546875, 10.349987030029297),
            (6.847384452819824, 3.95330810546875, -10.349987030029297),
            (-6.847384452819824, -3.95330810546875, 10.349987030029297),
            (-6.847384452819824, 3.95330810546875, -10.349987030029297),
            (8.98817233974114e-08, 7.906707763671875, 10.349954605102539),
            (8.98817233974114e-08, -12.79327392578125, 2.443333625793457),
            (8.98817233974114e-08, 12.79327392578125, -2.443333625793457),
            (8.98817233974114e-08, -7.906707763671875, -10.349954605102539))
        faces = ((0, 8, 4),
            (0, 5, 10),
            (2, 4, 9),
            (2, 11, 5),
            (1, 6, 8),
            (1, 10, 7),
            (3, 9, 6),
            (3, 7, 11),
            (0, 10, 8),
            (1, 8, 10),
            (2, 9, 11),
            (3, 11, 9),
            (4, 2, 0),
            (5, 0, 2),
            (6, 1, 3),
            (7, 3, 1),
            (8, 6, 4),
            (9, 4, 6),
            (10, 5, 7),
            (11, 7, 5))
        me = bpy.data.meshes.new('mesh.' + self.name)
        me.from_pydata(verts, [], faces)
        obj = bpy.data.objects.new(self.name, me)
        collection.objects.link(obj)
        bpy.context.view_layer.objects.active = obj
        return obj
        